# JobAI Next.js Environment Variables
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to version control

# =============================================================================
# NEXT.JS CONFIGURATION
# =============================================================================
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================
# Get these from your Supabase project dashboard
NEXT_PUBLIC_SUPABASE_URL=your-project-url.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key

# Service role key for server-side operations (keep secret!)
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# =============================================================================
# STRIPE CONFIGURATION
# =============================================================================
# Stripe Publishable Key (client-side)
# Get this from your Stripe Dashboard -> Developers -> API Keys
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here

# Stripe Secret Key (server-side) - Keep this secret!
STRIPE_SECRET_KEY=sk_test_your_secret_key_here

# Stripe Webhook Secret for verifying webhook signatures
# Get this from Stripe Dashboard -> Developers -> Webhooks
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe Premium Plan Price ID
# Create a product and price in Stripe Dashboard -> Products
NEXT_PUBLIC_STRIPE_PREMIUM_PRICE_ID=price_your_premium_price_id_here

# Database connection for direct queries (optional)
DATABASE_URL=postgresql://postgres:your-password@db.your-project.supabase.co:5432/postgres

# =============================================================================
# AI SERVICES CONFIGURATION
# =============================================================================

# Anthropic Claude API (Primary AI for complex tasks)
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your-anthropic-api-key

# OpenAI API (Fallback AI for cost-effective operations)  
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your-openai-api-key

# AI Configuration
AI_DEFAULT_MODEL=claude-sonnet-4-5-20250929
AI_FALLBACK_MODEL=gpt-4o-mini
AI_CACHE_TTL_HOURS=24
AI_MAX_RETRIES=3
AI_TIMEOUT_MS=30000

# Cost Controls
AI_DAILY_BUDGET_USD=50.00
AI_USER_DAILY_LIMIT_USD=1.00
AI_ENABLE_COST_ALERTS=true

# =============================================================================
# STRIPE PAYMENT CONFIGURATION
# =============================================================================
# Get these from your Stripe dashboard
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key

# Webhook endpoint secret for payment processing
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Product and pricing configuration
STRIPE_PREMIUM_PRICE_ID=5
STRIPE_PREMIUM_ANNUAL_PRICE_ID=4

# Subscription configuration
PREMIUM_PRICE_MONTHLY=3.00
PREMIUM_PRICE_ANNUAL=30.00

# =============================================================================
# EMAIL CONFIGURATION (Resend)
# =============================================================================
# Get your API key from: https://resend.com/api-keys
RESEND_API_KEY=re_your-resend-api-key

# Email settings
RESEND_FROM_EMAIL=noreply@jobai.dev
RESEND_FROM_NAME=JobAI
RESEND_REPLY_TO=support@jobai.dev

# Email templates (React Email component names)
RESEND_TEMPLATE_WELCOME=WelcomeEmail
RESEND_TEMPLATE_JOB_ALERT=JobAlertEmail
RESEND_TEMPLATE_PAYMENT_SUCCESS=PaymentSuccessEmail
RESEND_TEMPLATE_PASSWORD_RESET=PasswordResetEmail

# =============================================================================
# SMS CONFIGURATION (Twilio - Optional)
# =============================================================================
# Get these from: https://console.twilio.com/
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# SMS Settings
SMS_ENABLED=false
SMS_DAILY_LIMIT_PER_USER=5

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================
# Redis configuration (optional - improves performance)
# Get from: https://upstash.com/ (free tier available)
UPSTASH_REDIS_URL=your-redis-url
UPSTASH_REDIS_TOKEN=your-redis-token

# Cache configuration
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=3600
CACHE_AI_RESPONSES_TTL=86400

# =============================================================================
# JOB SCRAPING CONFIGURATION  
# =============================================================================
# Scraping schedule (cron format)
SCRAPING_SCHEDULE="0 */6 * * *"  # Every 6 hours
SCRAPING_ENABLED=true
SCRAPING_CONCURRENT_LIMIT=3
SCRAPING_REQUEST_DELAY_MS=2000

# Job board configurations
INDEED_BASE_URL=https://www.indeed.com
LINKEDIN_BASE_URL=https://www.linkedin.com
GLASSDOOR_BASE_URL=https://www.glassdoor.com

# Puppeteer configuration for web scraping
PUPPETEER_HEADLESS=true
PUPPETEER_TIMEOUT_MS=30000

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
# Rate limits per user per hour
RATE_LIMIT_JOB_SEARCH=100
RATE_LIMIT_AI_REQUESTS=50
RATE_LIMIT_RESUME_UPLOAD=5

# Global rate limits
RATE_LIMIT_GLOBAL_REQUESTS=10000
RATE_LIMIT_WINDOW_MS=3600000

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
# Maximum file sizes
MAX_RESUME_SIZE_MB=5
MAX_PROFILE_IMAGE_SIZE_MB=2

# Supported file types
SUPPORTED_RESUME_TYPES=pdf,doc,docx,txt
SUPPORTED_IMAGE_TYPES=jpg,jpeg,png,webp

# File storage (using Netlify Functions tmp directory)
UPLOAD_DIR=/tmp/uploads
UPLOAD_CLEANUP_HOURS=24

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT secrets (auto-generated by Supabase)
JWT_SECRET=your-jwt-secret

# CORS settings
CORS_ORIGIN=http://localhost:3000,https://your-domain.com
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS

# Security headers
ENABLE_SECURITY_HEADERS=true
ENABLE_RATE_LIMITING=true

# =============================================================================
# ANALYTICS AND MONITORING
# =============================================================================
# Application monitoring (optional)
SENTRY_DSN=your-sentry-dsn
SENTRY_ENVIRONMENT=development

# Analytics (optional)
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX

# Performance monitoring
ENABLE_PERFORMANCE_MONITORING=true
LOG_LEVEL=info

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================
# Development-only settings
DEV_SKIP_AUTH=false
DEV_MOCK_AI_RESPONSES=false
DEV_MOCK_PAYMENTS=true
DEV_SEED_DATABASE=true

# Debug settings
DEBUG_AI_REQUESTS=false
DEBUG_SCRAPING=false
DEBUG_CACHE=false

# Test user credentials (development only)
DEV_TEST_EMAIL=test@jobai.dev
DEV_TEST_PASSWORD=password123

# =============================================================================
# WEBHOOK CONFIGURATION
# =============================================================================
# Webhook URLs for external integrations
WEBHOOK_JOB_SCRAPED=https://your-domain.com/api/webhooks/job-scraped
WEBHOOK_USER_REGISTERED=https://your-domain.com/api/webhooks/user-registered
WEBHOOK_PAYMENT_SUCCESS=https://your-domain.com/api/webhooks/payment-success

# Webhook security
WEBHOOK_SECRET=your-webhook-secret-for-validation

# =============================================================================
# EXTERNAL API INTEGRATIONS
# =============================================================================
# Company logo API (Clearbit)
CLEARBIT_API_KEY=your-clearbit-api-key

# Salary data API (optional)
SALARY_API_KEY=your-salary-data-api-key

# Location/geocoding API (optional)
GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable/disable features
FEATURE_RESUME_PARSING=true
FEATURE_COVER_LETTER_GENERATION=true
FEATURE_INTERVIEW_PREP=true
FEATURE_SALARY_ANALYSIS=true
FEATURE_SMS_ALERTS=false
FEATURE_COMPANY_RESEARCH=true

# Beta features (for testing)
BETA_AI_INSIGHTS_V2=false
BETA_ADVANCED_MATCHING=false
BETA_BULK_APPLICATION=false

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================
# Deployment environment
DEPLOYMENT_ENV=development
DEPLOYMENT_REGION=us-west-2

# Netlify-specific (if deploying to Netlify)
NETLIFY_SITE_ID=your-netlify-site-id
NETLIFY_AUTH_TOKEN=your-netlify-auth-token

# CDN configuration
CDN_URL=https://your-cdn-domain.com
STATIC_ASSETS_URL=https://your-cdn-domain.com/static

# =============================================================================
# BACKUP AND MAINTENANCE
# =============================================================================
# Database backup configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# Maintenance mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="We're performing scheduled maintenance. Back soon!"

# =============================================================================
# COMPLIANCE AND PRIVACY
# =============================================================================
# Data retention policies
USER_DATA_RETENTION_DAYS=365
JOB_DATA_RETENTION_DAYS=90
ANALYTICS_RETENTION_DAYS=730

# Privacy settings
GDPR_COMPLIANCE_MODE=true
CCPA_COMPLIANCE_MODE=true
ENABLE_DATA_EXPORT=true
ENABLE_DATA_DELETION=true

# Cookie settings
COOKIE_DOMAIN=.your-domain.com
COOKIE_SECURE=true
COOKIE_SAME_SITE=lax